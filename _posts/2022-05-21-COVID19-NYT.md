## SQL Project #1. Analyzing 2022 COVID-19 data in the United States

For my first project using SQL I decided to look at publicly available COVID-19 data. [Here](https://github.com/nytimes/covid-19-data) is a link to the public dataset I used, provided by The New York Times.

![image](https://user-images.githubusercontent.com/105367716/169653225-ddd37ebd-b429-487e-b96d-d43e1bec5758.png)

I'm most interested in the us-counties-2022.csv file seen above, which contains the columns: date, state, fips, cases and deaths so far this year. Note: Fips is NULL if a county actually reports multiple counties. E.g New York City compromises New York, Kings, Queens, Bronx and Richmond Counties and has a NULL fips value.

To accomodate for us-counties-2022.csv in PostgreSQL, I created the table us_countries_2022 using the query below. I ommitted using constraints as I'm unable to see the need for them in this case. With this table made I then imported us-counties-2022.csv into us_countries_2022
```
CREATE TABLE us_counties_2022(
    date DATE,
    county VARCHAR(50),
    state VARCHAR(50),
    fips INTEGER,
    cases INTEGER,
    deaths INTEGER
);
```

## With this data I plan on answering these questions for my first project:
1. What are the top 10 counties by total cases so far this year?
2. What are the top 10 states by total cases so far this year?
3. Which 10 counties has the highest deaths:cases ratio so far this year?
4. Which 10 states has the highest deaths:cases ratio so far this year?
5. What are the top 10 states by cases:population ratio so far this year and is their governer a Democrat or Republican? (Join, make CSV file named state_info including state(P.K),population,governer,political_party)

### Question 1 answer
Here is the query I used:
```
SELECT county,fips,SUM(cases) AS total_cases FROM us_counties_2022
GROUP BY county,fips
ORDER BY SUM(cases) DESC
LIMIT 10;
```
Here is the result:

![image](https://user-images.githubusercontent.com/105367716/169656258-581c6977-fe0b-48e4-9771-f5d82c14967b.png)

What if I didn't want to include counties that actually compromise of several counties? Here is the query I would use instead:
```
SELECT county,fips,SUM(cases) AS total_cases FROM us_counties_2022
WHERE fips IS NOT NULL
GROUP BY county,fips
ORDER BY SUM(cases) DESC
LIMIT 10;
```

Resulting in this:

![image](https://user-images.githubusercontent.com/105367716/169656286-11c55961-bded-490f-8691-78486cbbcaa1.png)

### Question 2 answer
Here is the query I used:
```
SELECT state,SUM(cases) AS total_cases FROM us_counties_2022
GROUP BY state
ORDER BY SUM(cases) DESC
LIMIT 10;
```
Here is the result:

![image](https://user-images.githubusercontent.com/105367716/169656300-34bc9c82-f5ee-4f63-a28c-4c0357fd55a7.png)

### Question 3 answer
Here is the query I used:
```
SELECT county,
SUM(deaths) AS total_deaths,
SUM(cases) AS total_cases,
ROUND((SUM(deaths) * 1.0 / SUM(cases) * 1.0),4) AS deaths_cases_ratio
FROM us_counties_2022
WHERE deaths IS NOT NULL AND cases IS NOT NULL
GROUP BY county
ORDER BY deaths_cases_ratio DESC
LIMIT 10;
```

Here is the result:

![image](https://user-images.githubusercontent.com/105367716/169657025-8b169d21-615c-4e4c-8d25-2379daed986f.png)
